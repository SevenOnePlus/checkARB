## 中文版

### 简介
checkARB 是一个自解压 Shell 脚本，用于提取并检查 Android 设备中 `xbl_config` 分区的防回滚版本（Anti-Rollback Version）。它通过内置的 `arb_inspector` 工具解析分区镜像，并以彩色文字直观地显示结果。脚本采用 POSIX 标准编写，兼容 `mksh`、`ash` 等常见 Android Shell 环境。

### 特色
- **自解压设计**：脚本末尾附加包含 `arb_inspector` 的 ZIP 包，运行时自动解压至临时目录，无需手动准备工具。
- **双源检查**：支持从**本机分区**直接提取 `xbl_config` 或检查用户提供的**外部镜像文件**，灵活适配不同场景。
- **防回滚检测**：调用专用工具解析 `Anti-Rollback Version`，若值大于 0 则红色高亮提示“启用防回滚”，等于 0 则绿色提示“无防回滚”。
- **天玑芯片警告**：自动检测是否为 MediaTek Dimensity 平台，若是则在结果后显示黄色警告，提示硬件存储的 ARB 可能不可信。
- **备用 busybox 支持**：自动在 `/data/adb` 目录递归搜索可用的 `busybox`，当系统命令缺失时作为后备，增强环境兼容性。
- **POSIX 兼容**：脚本仅使用 POSIX 语法，在 `mksh`、`ash` 中稳定运行，并主动检测 `bash` 环境并报错退出。
- **安全清理**：无论执行成功与否，脚本退出前都会通过 `trap` 自动删除工作目录 `/data/local/tmp/checkarb`，避免残留文件。
- **哈希校验**：内置的 `bin.zip` 经过 SHA256 哈希验证，防止工具包被篡改或损坏。
- **友好交互**：纯文本菜单引导用户选择来源、确认提取、输入外部路径，无需安装额外工具（如 `dialog`）。